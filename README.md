# EDA-AB-testing-trading-app
The product is a mobile application for online trading. An exploratory analysis of historical data led to the following assumption: users lack understanding of the trading process and its risks. To test this, an A/B test was launched — the test group received an updated onboarding flow that included training

Продукт — мобильное приложение для онлайн-трейдинга, ориентированное на начинающих инвесторов. Разведочный анализ исторических данных привел к следующему предположению: пользователям не хватает понимания процесса торговли финансовыми активами и связанных с ним рисков. Чтобы проверить это, был запущен A/B—тест: тестовая группа проходила обновленный процесс онбординга, который включал обучение

Содержание:
1. [Как устроено приложение](#как-устроено-приложение)
2. [Описание данных](#описание-данных)
3. [Ход проекта](#ход-проекта)
    - [Исследовательский анализ данных](исследовательский-анализ-данных)
    - [Дизайн A/B теста](дизайн-эксперимента)
    - [Анализ результатов A/B теста](анализ-результатов-A/B-теста)

## Как устроено приложение 
Перечислим ключевые события пути пользователя: пользователь 
1) скачивает приложение
2) регистрируется
3) попадает на основную страницу — личный кабинет
4) проходит небольшой онбординг
5) совершает первое пополнение брокерского счета
6) покупает активы (различной степени риска: низко-, средне- и высокорискованные активы)
7) совершает повторное пополнение счета

## Описание данных
В репозитории 2 датасета: первый с историческими данными для проведения EDA, второй — с данными за период A/B эксперимента

- Датасет **pa_sollmafin_hist.csv** содержит исторические данные о ключевых действиях новых пользователей, привлечённых в период с 1 апреля по 1 июня 2025 года включительно. В датасете собраны действия пользователей до оформления второго депозита
- Датасет **pa_sollmafin_abt.csv** содержит данные А/В-эксперимента — все действия новых пользователей, которые зарегистрировались со 2 по 15 июня 2025 года включительно. Данные собраны в рамках проверки гипотезы о влиянии нового онбординга на поведение и активность пользователей. Пользователи уже распределены по группам А/В-эксперимента

Общие поля датасетов:
- `user_id` — уникальный идентификатор пользователя
- `country_code` — код страны пользователя в формате ISO:
    - *BR* — Бразилия
    - *MX* — Мексика
    - *AR* — Аргентина
    - *CO* — Колумбия
- `platform` — устройство, с которого пользователь взаимодействует с продуктом: 
    - *mobile*
    - *web*
- `first_ts` — время первого появления пользователя в системе
- `first_dt` — дата первого появления пользователя (без времени)
- `event_ts` — время события
- `event_name` — название события:
    - *install / open_web*
    - *introduction*
    - *registration*
    - *main_page*
    - *onboarding_complete*
    - *first_deposit*
    - *asset_purchase*
    - *second_deposit*
- `amount` — сумма пополнения депозита
- `asset` — тип приобретённого актива
- `risk_level` — уровень риска актива: 
    - *low* — низкий риск
    - *medium* — средний риск
    - *high* — высокий риск
    
В датасете **pa_sollmafin_abt** содержатся два дополнительных поля:
- `ab_test` — название А/В-эксперимента
- `group` — пользовательская группа А/В-эксперимента

## Ход проекта

### Исследовательский анализ данных
1. Был загружен датасет с ключевыми событиями за 2 месяца (**pa_sollmafin_hist.csv**). Было проверено соответствие данных и их типов описанию, изучены значения категориальных переменных и диапазоны значений численных переменных и дат, проведена проверка на дубликаты и пропуски
2. Была изучена динамика привлечения пользователей, воронки (классическая и пошаговая) по ключевым пользовательским событиям, проведена сегментация по уровню риска актива при расчете конверсии из покупки активов в повторное совершение депозита

Предположения на основе результатов EDA (подробные результаты в EDA_trading_app.ipynb): 
- пользователи сомневаются при выборе актива, поэтому не совершают покупку
- многие пользователи не понимают, как работать с активами разной степени риска, поэтому покупают высокорискованные активы
- после покупки высокорискованных активов пользователи теряют деньги, поэтому не совершают повторный депозит

### Решение по результатам EDA
Команда продукта решила обновить онбординг пользователей и добавить в него детальную информацию о различиях финансовых активов и связанных с ними рисках. Однако появилось опасение, что углублённый онбординг отпугнёт клиентов от пополнения депозита и более рискованных вложений. Проверка с помощью А/В теста

### Дизайн эксперимента 
В ноутбуке AB_test_trading_app.ipynb сформулированы:
- Описание фичи и зона ее влияния на пользователей
- Продуктовые и статистические гипотезы
- Метрики эксперимента (ключевая, барьерная, вспомогательные)
- Критерии успеха эксперимента
- Cегмент пользователей, задействованных в эксперименте
- Способ набора пользователей в группы
- Ограничения по MDE и длительности эксперимента
- Выбранные статистические критерии

### Анализ результатов A/B-теста
1. Был загружен датасет с ключевыми событиями за 2 месяца (**pa_sollmafin_abt.csv**). Было проверено соответствие данных и их типов описанию, изучены значения категориальных переменных и диапазоны значений численных переменных и дат, проведена проверка на дубликаты и пропуски
2. Было проведено:
    - анализ аудитории эксперимента (отсутствие пересечений между группами, размеры групп, распределение в группах по категориальным признакам)
    - сравнение воронок событий между группами;
    - анализ метрик A/B эксперимента (для каждой метрики рассчитаны абсолютные и относительные изменения значений в тестовой группе по сравнению с контрольной, проведена проверка статистической значимости различий метрик между группами эксперимента)
    - изучение влияния новой фичи на конверсию во второй депозит с учётом уровня риска купленного актива

### Вывод на основе анализа результатов A/B-эксперимента: 
- **Эксперимент можно считать успешным**, т.к. при проведении теста ключевая и барьерная метрики не упали (нет статистически значимой разницы в значении метрики между контрольной и тестовой группами), вспомогательные метрики выросли (есть статистически значимый рост метрики в тестовой группе)
- **Новый онбординг оптимизировал нижнюю часть воронки**: бóльшая доля пользователей в тестовой группе переходит к совершению первого депозита после онбординга, а также больше пользователей совершают покупку активов и повторный депозит (конверсия в повторный депозит выросла в тестовой группе относительно контрольной для каждого уровня риска купленного актива. Наибольший рост конверсии произошел в группе пользователей, купивших активы высокого уровня риска

### Рекомендации
Внедрить новый онбординг для всех пользователей

